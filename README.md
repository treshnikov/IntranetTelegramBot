# IntranetTelegramBot

#### Возможности
Бот представляет следующие команды для взаимодействия с интранет сайтом:

* Команда 'подписки' показывает список текущих подписок
* Команда 'где' показывает местоположение пользователя из СКУД, например 'где иванов'
* Команда 'почта' показывает почтовый адрес сотрудника с сайта интранет, например 'почта иванов'
* Команда 'телефон' показывает номера телефонов сотрудника с сайта интранет, например 'телефон иванов'
* Команда 'отписаться' удаляет подписку по порядковому номеру, например 'отписаться 3'. Чтобы узнать номера подисок выполните команду 'подписки'.
* Команда 'подписаться' оформляет подписку на изменение указанной команды, например 'подписаться где иванов'

#### Настройка
Отредактировать файл settings.json
```
{
  "BotApiKey": "FEC1AE38-F3EB-44A9-BBCC-B411D32A9E9A",
  "IntranetDomain": "cmc",
  "IntranetPassword": "****",
  "IntranetUserName": "user",
  "Password": "password for authorization for new users",
  "Proxy":"127.0.0.1:8888"
}
```

#### Архитектура
* Для добавления новой команды создайте реализацию класса IBotCommand, команда будет автоматически подгружена
* Для периодических задач, например, 'подписаться где иванов', используется класс BotTaskProcessor, который отслеживает список задач и выполняет их по расписанию. Список задач хранится в файле tasks.json 